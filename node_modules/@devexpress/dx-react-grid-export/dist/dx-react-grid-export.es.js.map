{"version":3,"file":"dx-react-grid-export.es.js","sources":["../../dx-react-grid/src/plugins/internal/table-group-row-columns.tsx","../../dx-react-grid/src/plugins/internal/grid-core-getters.tsx","../../dx-react-grid/src/plugins/internal/table-columns-getter.tsx","../../dx-react-grid/src/plugins/internal/visible-table-columns.tsx","../../dx-react-grid/src/plugins/internal/ordered-table-columns.tsx","../../dx-react-grid/src/components/summary/constants.ts","../src/plugins/helpers.ts","../src/plugins/grid-exporter-core.tsx","../src/plugins/grid-exporter.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Getter, Plugin, Getters,\n} from '@devexpress/dx-react-core';\nimport { tableColumnsWithGrouping } from '@devexpress/dx-grid-core';\nimport { ShowColumnWhenGroupedGetterFn, TableColumnsWithGroupingProps } from '../../types';\n\nconst showColumnWhenGroupedGetter: ShowColumnWhenGroupedGetterFn = (\n  showColumnsWhenGrouped, columnExtensions = [],\n) => {\n  const map = columnExtensions.reduce((acc, columnExtension) => {\n    acc[columnExtension.columnName] = columnExtension.showWhenGrouped;\n    return acc;\n  }, {});\n\n  return columnName => map[columnName] || showColumnsWhenGrouped;\n};\n\n/** @internal */\nexport const TableColumnsWithGrouping: React.FunctionComponent<\n  TableColumnsWithGroupingProps\n> = React.memo(({\n  indentColumnWidth, showColumnsWhenGrouped, columnExtensions,\n}) => {\n  const tableColumnsComputed = ({\n    columns, tableColumns, grouping, draftGrouping,\n  }: Getters) => tableColumnsWithGrouping(\n    columns,\n    tableColumns,\n    grouping,\n    draftGrouping,\n    indentColumnWidth!,\n    showColumnWhenGroupedGetter(showColumnsWhenGrouped!, columnExtensions),\n  );\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n    </Plugin>\n  );\n});\n\nTableColumnsWithGrouping.defaultProps = {\n  indentColumnWidth: 0,\n};\n","import * as React from 'react';\nimport {\n  Getter, Plugin,\n} from '@devexpress/dx-react-core';\nimport { rowIdGetter, cellValueGetter } from '@devexpress/dx-grid-core';\nimport { GridCoreGettersProps } from '../../types';\n\nexport const GridCoreGetters: React.FunctionComponent<GridCoreGettersProps> = React.memo(({\n  rows,\n  columns,\n  getRowId,\n  getCellValue,\n}) => (\n  <Plugin>\n    <Getter name=\"rows\" value={rows} />\n    <Getter name=\"getRowId\" value={rowIdGetter(getRowId!, rows)} />\n    <Getter name=\"columns\" value={columns} />\n    <Getter name=\"getCellValue\" value={cellValueGetter(getCellValue!, columns)} />\n  </Plugin>\n));\n","import * as React from 'react';\nimport {\n  Getter, Plugin,\n} from '@devexpress/dx-react-core';\nimport { tableColumnsWithDataRows, checkTableColumnExtensions } from '@devexpress/dx-grid-core';\nimport { Table } from '../../types';\n\nexport const TableColumnsWithDataRowsGetter: React.FunctionComponent<\n  { columnExtensions?: Table.ColumnExtension[]; }\n> = React.memo(({ columnExtensions }) => {\n  const tableColumnsComputed = React.useCallback(\n    ({ columns }) => (\n      tableColumnsWithDataRows(columns, columnExtensions!)\n    ), [columnExtensions]);\n  checkTableColumnExtensions(columnExtensions!);\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={tableColumnsComputed} />\n    </Plugin>\n  );\n});\n","import * as React from 'react';\nimport {\n  Getter,\n  Plugin,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  visibleTableColumns,\n} from '@devexpress/dx-grid-core';\nimport { VisibleTableColumnsProps } from '../../types';\n\nconst visibleTableColumnsComputed = (\n  { tableColumns, hiddenColumnNames }: Getters,\n) => visibleTableColumns(tableColumns, hiddenColumnNames);\n\n/** @internal */\nexport const VisibleTableColumns: React.FunctionComponent<\n  VisibleTableColumnsProps\n> = React.memo(({\n  hiddenColumnNames,\n}) => (\n  <Plugin>\n    <Getter name=\"hiddenColumnNames\" value={hiddenColumnNames} />\n    <Getter name=\"tableColumns\" computed={visibleTableColumnsComputed} />\n  </Plugin>\n));\n\nVisibleTableColumns.defaultProps = {\n  hiddenColumnNames: [],\n};\n","import * as React from 'react';\nimport {\n  Getter,\n  Plugin,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  orderedColumns,\n} from '@devexpress/dx-grid-core';\nimport { OrderedTableColumnsProps } from '../../types';\n\n/** @internal */\nexport const OrderedTableColumns: React.FunctionComponent<\n  OrderedTableColumnsProps\n> = ({\n  order,\n}) => {\n  const columnsComputed = (\n    { tableColumns }: Getters,\n  ) => orderedColumns(tableColumns, order!);\n\n  return (\n    <Plugin>\n      <Getter name=\"tableColumns\" computed={columnsComputed} />\n    </Plugin>\n  );\n};\n\nOrderedTableColumns.defaultProps = {\n  order: [],\n};\n","export const defaultSummaryMessages = {\n  sum: 'Sum',\n  min: 'Min',\n  max: 'Max',\n  avg: 'Avg',\n  count: 'Count',\n};\n","/* tslint:disable no-submodule-imports */\nimport * as Excel from 'exceljs/dist/exceljs.min.js';\n/* tslint:enable no-submodule-imports */\n\nexport const createWorkbook = () => new Excel.Workbook();\n\nexport const createWorksheet = (workbook: Excel.Workbook) => workbook.addWorksheet('Main');\n","import * as React from 'react';\n\nimport {\n  Action, Actions, Plugin, Getter, Template, TemplateConnector, Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  exportHeader, exportRows, closeGroupGetter, closeSheet, groupOutlineLevels, rowsToExport,\n  buildGroupTree, exportSummaryGetter, maximumGroupLevel,\n} from '@devexpress/dx-grid-core';\nimport {\n  IntegratedGrouping, GroupingState, SummaryState, IntegratedSummary, Table, SelectionState,\n  FilteringState, IntegratedFiltering, SortingState, IntegratedSorting,\n} from '@devexpress/dx-react-grid';\n\n/* tslint:disable no-submodule-imports */\nimport {\n  TableColumnsWithGrouping, TableColumnsWithDataRowsGetter,\n  VisibleTableColumns, OrderedTableColumns, GridCoreGetters,\n} from '../../../dx-react-grid/src/plugins/internal';\nimport {\n  defaultSummaryMessages,\n} from '../../../dx-react-grid/src/components/summary/constants';\n/* tslint:enable no-submodule-imports */\nimport { createWorkbook, createWorksheet } from './helpers';\nimport { ExporterProps } from '../types';\n\nconst maxGroupLevelComputed = ({ grouping }: Getters) => maximumGroupLevel(grouping);\nconst outlineLevelsComputed = ({ grouping }: Getters) => groupOutlineLevels(grouping);\nconst rowsToExportComputed = ({\n  rows, selection, grouping, getCollapsedRows, getRowId, isGroupRow,\n}: Getters) => rowsToExport(\n  rows, selection, grouping, getCollapsedRows, getRowId, isGroupRow,\n);\nconst groupTreeComputed = ({\n  rows, outlineLevels, grouping, isGroupRow, groupSummaryItems,\n}: Getters) => buildGroupTree(\n  rows, outlineLevels, grouping, isGroupRow, groupSummaryItems,\n);\nconst exportSummaryComputed = ({\n  worksheet, tableColumns, customizeSummaryCell,\n}: Getters) => exportSummaryGetter(\n  worksheet, tableColumns, customizeSummaryCell, defaultSummaryMessages,\n);\nconst getCloseGroupComputed = ({\n  worksheet, groupTree, outlineLevels, maxGroupLevel, groupSummaryItems, exportSummary,\n}: Getters) => closeGroupGetter(\n  worksheet, groupTree, outlineLevels, maxGroupLevel, groupSummaryItems, exportSummary,\n);\n\nexport class GridExporterCore extends React.PureComponent<ExporterProps> {\n  static defaultProps = {\n    grouping: [],\n    customizeHeader: () => {},\n    customizeFooter: () => {},\n    customizeCell: () => {},\n    customizeSummaryCell: () => {},\n  };\n\n  performExport = (_: any,\n    {\n    tableColumns, columns: dataColumns, exportSummary, getCloseGroup,\n    getCellValue, isGroupRow, rows, worksheet, workbook, maxGroupLevel,\n    totalSummaryItems, outlineLevels, groupTree,\n  }: Getters,\n  {\n    finishExport,\n  }: Actions) => {\n    const {\n      onSave, customizeCell, customizeHeader, customizeFooter,\n    } = this.props;\n    const columns = tableColumns.filter(c => c.type === Table.COLUMN_TYPE);\n\n    customizeHeader!(worksheet);\n\n    exportHeader(worksheet, columns);\n    const dataRowsOffset = worksheet.lastRow?.number + 1;\n\n    exportRows(\n      worksheet, rows, dataColumns, columns, isGroupRow, outlineLevels, dataRowsOffset,\n      getCellValue, getCloseGroup, customizeCell!,\n    );\n\n    closeSheet(\n      worksheet, groupTree, maxGroupLevel, dataRowsOffset, totalSummaryItems, exportSummary,\n    );\n\n    customizeFooter!(worksheet);\n\n    onSave(workbook);\n\n    finishExport();\n  }\n\n  render() {\n    const {\n      rows: propRows, columns: propColumns, getCellValue, getRowId, columnExtensions,\n      columnOrder, hiddenColumnNames, grouping, showColumnsWhenGrouped, groupColumnExtensions,\n      filters, sorting, selection, totalSummaryItems, groupSummaryItems, customizeSummaryCell,\n      exportSelected,\n    } = this.props;\n\n    const workbook = createWorkbook();\n    const worksheet = createWorksheet(workbook);\n\n    const summaryExists = totalSummaryItems || groupSummaryItems;\n    const useGrouping = !!grouping?.length;\n    const useSelection = exportSelected && !!selection;\n    const useFilters = !!filters;\n    const useSorting = !!sorting;\n    const useColumnOrder = !!columnOrder;\n    const useColumnVisibility = !!hiddenColumnNames;\n\n    return (\n      <Plugin>\n        <GridCoreGetters\n          rows={propRows}\n          columns={propColumns}\n          getRowId={getRowId}\n          getCellValue={getCellValue}\n        />\n        <TableColumnsWithDataRowsGetter\n          columnExtensions={columnExtensions}\n        />\n        {useColumnVisibility && (\n          <VisibleTableColumns hiddenColumnNames={hiddenColumnNames} />\n        )}\n        {useColumnOrder && (\n          <OrderedTableColumns order={columnOrder} />\n        )}\n        <Getter name=\"isExporting\" value />\n\n        {/* State */}\n        {useFilters && (\n          <FilteringState filters={filters} />\n        )}\n        {useSorting && (\n          <SortingState sorting={sorting} />\n        )}\n        {useGrouping && (\n          <GroupingState grouping={grouping} />\n        )}\n        {summaryExists && (\n          <SummaryState totalItems={totalSummaryItems} groupItems={groupSummaryItems} />\n        )}\n        {useSelection && (\n          <SelectionState selection={selection} />\n        )}\n\n        {/* Integrated */}\n        {useGrouping && (\n          <TableColumnsWithGrouping\n            columnExtensions={groupColumnExtensions}\n            showColumnsWhenGrouped={showColumnsWhenGrouped}\n          />\n        )}\n        {useFilters && (\n          <IntegratedFiltering />\n        )}\n        {useSorting && (\n          <IntegratedSorting />\n        )}\n        {useGrouping && (\n          <IntegratedGrouping />\n        )}\n        {summaryExists && (\n          <IntegratedSummary />\n        )}\n\n        <Getter name=\"customizeSummaryCell\" value={customizeSummaryCell} />\n        <Getter name=\"workbook\" value={workbook} />\n        <Getter name=\"worksheet\" value={worksheet} />\n        <Getter name=\"maxGroupLevel\" computed={maxGroupLevelComputed} />\n        <Getter name=\"outlineLevels\" computed={outlineLevelsComputed} />\n        <Getter name=\"rows\" computed={rowsToExportComputed} />\n        <Getter name=\"groupTree\" computed={groupTreeComputed} />\n        <Getter name=\"exportSummary\" computed={exportSummaryComputed} />\n        <Getter name=\"getCloseGroup\" computed={getCloseGroupComputed} />\n\n        <Action name=\"performExport\" action={this.performExport} />\n        <Template name=\"root\">\n          {() => (\n            <TemplateConnector>\n              {(_, { performExport }) => {\n                performExport();\n                return null;\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  Action, Plugin, PluginHost,\n} from '@devexpress/dx-react-core';\nimport { GridExporterCore } from './grid-exporter-core';\nimport { ExporterProps, ExporterState } from '../types/export/exporter.types';\n\nclass GridExporterBase extends React.PureComponent<ExporterProps, ExporterState> {\n  state = {\n    isExporting: false,\n    selectedOnly: false,\n  };\n\n  exportGrid = (options) => {\n    this.setState({\n      isExporting: true,\n      selectedOnly: false,\n      ...options,\n    });\n  }\n\n  finishExport = () => {\n    // NOTE: we can't update state during the render phase\n    window.setTimeout(() => {\n      this.setState({\n        isExporting: false,\n        selectedOnly: false,\n      });\n    }, 0);\n  }\n\n  render() {\n    const { isExporting, selectedOnly } = this.state;\n    if (!isExporting) return null;\n\n    return (\n      <PluginHost>\n        <Plugin name=\"export\">\n          <Action name=\"finishExport\" action={this.finishExport} />\n        </Plugin>\n        <GridExporterCore\n          {...this.props}\n          exportSelected={selectedOnly}\n        />\n      </PluginHost>\n    );\n  }\n}\n\nexport const GridExporter: React.ComponentType<ExporterProps> = GridExporterBase;\n"],"names":["React.memo","React.createElement","React.useCallback","Excel.Workbook","React.PureComponent"],"mappings":"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"}